<div class="panel panel-primary">
  <div class="panel-heading">
    Sign Up!
  </div>

  <div class="panel-body">
    <form class="form-horizontal" novalidate [formGroup]="userForm" (ngSubmit)="save()">
      <fieldset>
        <div class="form-group" [ngClass]="{'has-error': (userForm.get('firstName').touched || userForm.get('firstName').dirty) && !userForm.get('firstName').valid }">
          <label class="col-md-2 control-label" for="firstNameId">First Name</label>
          <div class="col-md-8">
            <input class="form-control" id="firstNameId" type="text" placeholder="First Name (required)" required minlength="3" formControlName="firstName"
            />
                <span class="help-block" *ngIf="(userForm.get('firstName').touched || userForm.get('firstName').dirty) && userForm.get('firstName').errors">
            <span *ngIf="userForm.get('firstName').errors.required">
                  Please enter your first name.
            </span>
            <span *ngIf="userForm.get('firstName').errors.minlength">
                  The first name must be longer than 3 characters.
            </span>
      </span>


          </div>
        </div>

        <div class="form-group" [ngClass]="{'has-error': (userForm.get('lastName').touched || userForm.get('lastName').dirty) && !userForm.get('lastName').valid }">
          <label class="col-md-2 control-label" for="lastNameId">Last Name</label>
          <div class="col-md-8">
            <input class="form-control" id="lastNameId" type="text" placeholder="Last Name (required)" required maxlength="50" formControlName="lastName"
            />

            <span class="help-block" *ngIf="(userForm.get('lastName').touched || userForm.get('lastName').dirty) && userForm.get('lastName').errors">
            <span *ngIf="userForm.get('lastName').errors.required">
                        Please enter your last name.
            </span>
</span>


          </div>
        </div>

        <div class="form-group" [ngClass]="{'has-error': (userForm.get('email').touched || userForm.get('email').dirty) && !userForm.get('email').valid }">
          <label class="col-md-2 control-label" for="emailId">Email</label>

          <div class="col-md-8">
            <input class="form-control" id="emailId" type="email" placeholder="Email (required)" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+"
              formControlName="email" />

            <span class="help-block" *ngIf="(userForm.get('email').touched || userForm.get('email').dirty) && userForm.get('email').errors">
      <span *ngIf="userForm.get('email').errors.required">
     Please enter your email address.
     </span>
     <span *ngIf="userForm.get('email').errors.pattern">
           Please enter a valid email address.
     </span>

     <!--
     This one does not work, because Angular doesn support
     buil-in email, phone, date validator
     -->
     <span *ngIf="userForm.get('email').errors.email">
           Please enter a valid email address.
     </span>
</span>


          </div>
        </div>

        <div class="form-group">
          <div class="col-md-offset-1 col-md-8 checkbox">
            <label>
                            <input id="sendProductsId"
                                   type="checkbox"
                                               formControlName="sendProducts">
                            Send me your products
                        </label>
          </div>
        </div>

        <!--<div *ngIf="user.sendProducts">
          <div class="form-group">
            <label class="col-md-2 control-label">Address Type</label>
            <div class="col-md-8">
              <label class="radio-inline">
                                    <input type="radio" id="addressType1Id" value="home" [(ngModel)]="user.addressType"
                                           name="addressType">Home
                                </label>
              <label class="radio-inline">
                                    <input type="radio" id="addressType1Id" value="work"                                                 
                                           [(ngModel)]="user.addressType"
                                           name="addressType">Work
                                </label>
              <label class="radio-inline">
                                    <input type="radio" id="addressType1Id" value="other"
                                           [(ngModel)]="user.addressType"
                                           name="addressType">Other
                                </label>
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-2 control-label" for="cityId">Country, City, Zip Code</label>

            <div class="col-md-3">
              <select class="form-control" id="countryId" [(ngModel)]="user.country" name="country">
                                        <option value="">Select a Country...</option>
                                        <option *ngFor="let country of countries"
                                                value="{{country}}">{{country}}</option>                                
                            </select>
            </div>
            <div class="col-md-3">
              <input type="text" class="form-control" id="cityId" placeholder="City" [(ngModel)]="user.city" name="city">

            </div>
            <div class="col-md-2">
              <input type="number" class="form-control" id="zipId" placeholder="Zip Code" [(ngModel)]="user.zip" name="zip">
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-2 control-label" for="street1Id">Street Address 1</label>
            <div class="col-md-8">
              <input type="text" class="form-control" id="street1Id" placeholder="Street address" [(ngModel)]="user.street1" name="street1">
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-2 control-label" for="street2Id">Street Address 2</label>
            <div class="col-md-8">
              <input type="text" class="form-control" id="street2Id" placeholder="Street address (second line)" [(ngModel)]="user.street2"
                name="street2">
            </div>
          </div>
        </div> -->

        <div class="form-group">
          <div class="col-md-4 col-md-offset-2">
            <span>
                            <button class="btn btn-primary"
                                    type="submit"   [disabled]="!userForm.valid">
                                Save
                            </button>
                        </span>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
</div>
<br>Dirty: {{ userForm.dirty }}
<br>Touched: {{ userForm.touched }}
<br>Valid: {{ userForm.valid }}
<br>Value: {{ userForm.value | json }}